!function($){var e,t={wrapper:"",current:"",arrow:"",list:"",option:"",selected:"",onReady:!1,onSelect:!1,onUpdate:!1,onRemove:!1},a={blur:"blur.uxSelect",change:"change.uxSelect",click:"click.uxSelect",focus:"focus.uxSelect",keydown:"keydown.uxSelect"},r={rocket:"uxRocket",data:"uxSelect",ready:"uxitd-select-ready",index:"uxitd-select-index-",rocketWrap:"uxitd-plugin-wrap",wrap:"uxitd-select-wrap",list:"uxitd-select-list",item:"uxitd-select-list-item",option:"uxitd-select-option",selected:"uxitd-select-option-selected",current:"uxitd-select-current",text:"uxitd-select-current-text",arrow:"uxitd-select-arrow",readonly:"uxitd-select-readonly",focused:"uxitd-select-focused"},n=1,s=function(e,s,i){var d,l=$(e),u=l.attr("id");void 0===u&&(l.attr("id",r.index+n),u=r.index+n),d=$.extend({},t,s,l.data(),{id:u,index:n,selector:i}),delete d[r.rocket],l.data(r.data,d),o(l),p(d.onReady),c(l),l.on(a.keydown,function(e){$("."+r.selected).removeClass(r.selected+" "+d.selected)}),n++},o=function(e){var t,a=e.data(r.data),n=u(e.find(":selected").text()),s=l(e);t=" "+e.context.className.replace(r.ready,""),"."==a.selector.charAt(0)&&(t=t.replace(" "+a.selector.substr(1),"")),e.is(".readonly")&&(t+=" "+r.readonly),e.parent().is("."+r.rocketWrap)?e.parent().addClass(r.wrap+" "+a.wrapper+t):e.parent().is("label")&&e.is(":only-child")?e.parent().addClass(r.rocketWrap+" "+r.wrap+" "+a.wrapper+t):e.wrap(e.parent().is("label")?'<span class="'+r.rocketWrap+" "+r.wrap+" "+a.wrapper+t+'"></span>':'<label class="'+r.rocketWrap+" "+r.wrap+" "+a.wrapper+t+'"></label>'),e.after('<span class="'+r.current+" "+a.current+'">   <span class="'+r.text+'">'+n+'</span>   <span class="'+r.arrow+" "+a.arrow+'"></span></span>'),$("body").append(s)},c=function(e){var t=e.data(r.data);$("#"+r.list+"-"+t.index).not("."+r.readonly).on(a.click,"."+r.option,function(e){e.preventDefault(),d($(this))}),e.not(".readonly").off(a.focus).on(a.focus,function(e){var t=$(this);i(t)}).off(a.change).on(a.change,function(n){var s=e.val(),o=e.attr("id"),c=e.siblings("."+r.current).find("."+r.text),d=$("."+r.list).filter('[data-select="'+o+'"]').find("."+r.option),l=d.filter('[data-value="'+s+'"]');c.html(l.html()),l.addClass(r.selected),e.on(a.keydown,function(t){t||(t=e.event),"13"==t.keyCode&&i(e)}),p(t.onSelect)}).off(a.blur).on(a.blur,function(e){$(this).animate({opacity:1},150,function(){$(this).removeClass(r.focused)})}),$(document).on(a.click,function(e){$(e.target).is("."+r.wrap+", ."+r.wrap+" *")||($("."+r.list).hide(),$("."+r.focused).removeClass(r.focused))})},i=function(e){var t=e.attr("id"),a=e.offset(),n=e.parents("."+r.wrap).width(),s=$("."+r.list),o=s.filter('[data-select="'+t+'"]');s.not(o).hide(),o.css({minWidth:n,top:a.top,left:a.left}).toggle(),e.toggleClass(r.focused)},d=function(e){var t=e.parents("."+r.list),n=$("#"+t.data("select")),s=n.data(r.data),o=e.data("value");t.find("."+r.selected).removeClass(r.selected+" "+s.selected),n.val(o).trigger(a.change)},l=function(e){var t,a=e.data(r.data),n=e.attr("id"),s="";return e.is(".readonly")&&(s=" "+r.readonly),t='<ul id="'+r.list+"-"+a.index+'" data-select="'+n+'" class="'+r.list+" "+a.list+s+'">',e.find("option").each(function(){var e=$(this);t+='<li class="group '+r.item+'"><a class="group '+r.option+" "+a.option,e.is(":selected")&&(t+=" "+r.selected+" "+a.selected),t+='" data-index="'+e.index()+'" data-value="'+e.val()+'">'+u(e.text())+"</a></li>"}),t+="</ul>"},u=function(e){return e.replace(/\[/g,"<").replace(/]/g,">")},p=function(e){if("function"==typeof e)e.apply(this);else if(e!==!1){var t=new Function("return "+e);t()}};e=$.fn.select=$.uxselect=function(e){var t=this.selector;return this.each(function(){var n=$(this),o=n.data(r.rocket)||{},c;n.is("select")&&!n.hasClass(r.ready)&&(n.addClass(r.ready),o[r.data]={hasWrapper:!0,wrapper:r.wrap,ready:r.ready,selector:t,options:e},n.data(r.rocket,o),n.on(a.keydown,function(e){return e||(e=n.event),"13"==e.keyCode?!1:void 0}),c=new s(this,e,t))})},e.update=function(e){var t=$(void 0!==e?e:"select."+r.ready);t.each(function(){var e=$(this).data(r.data),t=l($(this)),a=u($(this).find(":selected").text());$(this).next("."+r.current).find("."+r.text).text(a),$("."+r.list).filter('[data-select="'+$(this).attr("id")+'"]').replaceWith(t),p(e.onUpdate)}),c(t)},e.remove=function(e){var t=$(void 0!==e?e:"select."+r.ready);t.each(function(){var e=$(this),t=e.data(r.data),n=e.data(r.rocket);$("#"+r.list+"-"+t.index).remove(),e.next("."+r.current).remove(),e.parent().removeClass(r.wrap+" "+r.readonly+" "+t.wrapper),e.off(a.focus+" "+a.change+" "+a.blur+" "+a.keydown),$(document).off(a.click),e.removeData(r.data),delete n[r.data],e.data(r.rocket,n),e.removeClass(r.ready),p(t.onRemove)})},e.version="2.7.1",e.settings=t}(jQuery);
//# sourceMappingURL=./uxrocket.select.min.js.map