/*! UX Rocket Select 
 *  jQuery based Select box replacement function 
 *  @author Bilal Cinarli <bcinarli@gmail.com> (http://bcinarli.com/) 
 *  @version 3.0.0 
 *  @build Fri Nov 13 2015 23:09:52 GMT+0200 (EET) 
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(t){"use strict";var e,s=1,i="uxrSelect",o=null,n={selection:'<a href="#" id="{{selectionClass}}-{{id}}" data-id="{{id}}" class="{{selectionClass}} {{#if multiple}}{{multipleClass}}{{/if}}" style="{{width}}">    <span class="{{selectionTextClass}}">{{selectionText}}</span>    <span class="{{arrowClass}}"></span></a>',search:'<span class="{{searchClass}}">   <input type="text"           name="{{searchInput}}"          data-list="{{list}}" /></span>',list:'<ul class="{{listClass}}">   {{#each options}}   <li{{#if options.selected}} class="{{selectedClass}}"{{/if}}>        <a class="{{optionClass}}" data-value="{{options.value}}">{{options.text}}</a>   </li>   {{/each}}</ul>',drop:'<div id="{{dropID}}" class="{{dropClass}}">    {{search}}    {{list}}</div>'},a={wrapper:"",current:"",arrow:"",list:"",option:"",selected:"",search:!0,searchItemLimit:10,minLetters:2,onReady:!1,onSelect:!1,onUpdate:!1,onDestroy:!1},l={focus:"focus."+i,blur:"blur."+i,change:"change."+i,click:"click."+i,keyup:"keyup."+i,input:"input."+i,ready:"uxrready."+i,toggle:"uxrtoggle."+i,select:"uxrselect."+i,update:"uxrupdate."+i,destroy:"uxrdestroy."+i},r={prefix:"uxr-",rocket:"uxRocket",data:i,name:"select",classes:{wrap:"wrap",ready:"ready",selection:"selection",selectionText:"selection-text",arrow:"arrow",multiple:"multiple",opened:"opened",drop:"drop",list:"list",option:"option",optionName:"option-name",selected:"selected",search:"search",hidden:"aria-hidden"}},p=function(e,o,n){var l=t(e);this._instance=s,this._name=i,this._defaults=a,this.wrapped=!1,this.utils=new window.uxrPluginUtils({ns:r}),this.el=e,this.$el=l,this.id="uxr-select-options-"+s,this.multiple=this.el.hasAttribute("multiple"),this.width=this.getWidth(),this.selector=n,this.opened=!1,this.tabbed=!1,this.clicked=0,this.options=t.extend(!0,{},a,o,l.data()),s++,this.init()};p.prototype.init=function(){""===this.el.id&&(this.el.id=r.data+"-"+this._instance),this.registry(),this.getPosition(),this.getOptionData(),this.decorateUI(),this.prepareDrop(),this.bindUI(),this.$el.addClass(this.utils.getClassname("ready")),this.emitEvent("ready")},p.prototype.getPosition=function(){this.position={top:this.el.offsetTop,left:this.el.offsetLeft}},p.prototype.getWidth=function(){var e,s=this.$el.attr("class").replace(this.utils.getClassname("ready"),"").replace(this.utils.getClassname("hidden"),""),i=this.$el.attr("style"),o=t(document.createElement("div")).css("display","none"),n="";return s&&(n+=' class="'+s+'"'),i&&(n+=' style="'+i+'"'),o.html("<div "+n+"></div>").appendTo("body"),e=o.find("div").css("width"),o.remove(),e},p.prototype.getSelected=function(){return{value:this.$el.val(),text:this.$el.find("option:selected").text()}},p.prototype.getOptionData=function(){var e=this;e.optionData=[],this.$el.find("option").each(function(){e.optionData.push({text:t(this).text(),value:t(this).val(),selected:t(this).is(":selected")})})},p.prototype.decorateUI=function(){this.addAttributes(),this.wrap(),this.addSelection()},p.prototype.undecorateUI=function(){this.unwrap(),this.removeSelection(),this.removeAttributes()},p.prototype.wrap=function(){this.$el.parent().is("label")?this.$el.parent().addClass(this.utils.getClassname("wrap")):(this.wrapped=!0,this.$el.wrap('<label class="'+this.utils.getClassname("wrap")+'"></label>'))},p.prototype.unwrap=function(){this.wrapped?this.$el.unwrap():this.$el.parent().removeClass(this.utils.getClassname("wrap"))},p.prototype.addSelection=function(){var e=this.renderSelection();this.$selection=t(e),this.$el.after(this.$selection)},p.prototype.removeSelection=function(){this.$el.next("."+this.utils.getClassname("selection")).remove(),delete this.$selection},p.prototype.addAttributes=function(){this.$el.addClass(this.utils.getClassname("hidden")).attr("aria-hidden",!0)},p.prototype.removeAttributes=function(){this.$el.removeAttr("aria-hidden").removeClass(this.utils.getClassname("hidden")+" "+this.utils.getClassname("ready"))},p.prototype.bindUI=function(){var e=this;e.$el.on(l.focus,function(t){t.preventDefault(),e.onFocus()}).on(l.change,function(){e.onChange()}).on(l.ready,function(){e.onReady()}).on(l.select,function(){e.onSelect()}).on(l.update,function(){e.onUpdate()}).on(l.destroy,function(){e.onDestroy()}),e.$selection.on(l.focus+" "+l.keyup,function(t){t.stopPropagation(),t.preventDefault(),9===t.keyCode&&(e.tabbed=!0),e.onFocus()}).on(l.blur,function(){o&&0===e.clicked&&e.opened&&!e.tabbed&&e.onBlur()}).on(l.click,function(t){t.stopPropagation(),t.preventDefault(),e.clicked++,e.opened?(e.opened&&e.clicked%2==0||e.opened&&e.tabbed)&&e.onBlur():e.onFocus()}),e.$drop.on(l.click,"."+e.utils.getClassname("option"),function(t){t.preventDefault(),t.stopPropagation()}).on(l.keyup+" "+l.input,"."+e.utils.getClassname("search")+" input",function(t){t.preventDefault(),this.value.length>=e.options.minLetters?e.search(this.value):e.setOriginalList()}),t(document).on(l.click,function(t){(0===e.$drop.has(t.target).length||0===e.$selection.has(t.target))&&e.onBlur()})},p.prototype.unbindUI=function(){this.emitEvent("destroy"),this.$el.off("."+i)},p.prototype.showDrop=function(){this.$drop.appendTo("body")},p.prototype.hideDrop=function(){this.$drop.remove()},p.prototype.renderSelection=function(){var t={id:this.el.id,selectionClass:this.utils.getClassname("selection"),multiple:this.multiple,multipleClass:this.utils.getClassname("multiple"),width:"width:"+this.width,selectionTextClass:this.utils.getClassname("selectionText"),selectionText:this.getSelected().text,arrowClass:this.utils.getClassname("arrow")};return this.utils.render(n.selection,t)},p.prototype.renderSearchField=function(){var t={searchClass:this.utils.getClassname("search"),searchInput:this.utils.getClassname("search")+"-"+this._instance,list:this.id};return this.utils.render(n.search,t)},p.prototype.renderList=function(t){var e={listClass:this.utils.getClassname("list"),selectedClass:this.utils.getClassname("selected"),optionClass:this.utils.getClassname("option"),options:t||this.optionData};return this.utils.render(n.list,e)},p.prototype.renderDrop=function(){var t={dropID:this.id,dropClass:this.utils.getClassname("drop"),search:this.renderSearchField(),list:this.renderList()};return this.utils.render(n.drop,t)},p.prototype.prepareDrop=function(){this.$drop=t(this.renderDrop()),this.$list=this.$drop.find("."+this.utils.getClassname("list")),this.$search=this.$drop.find("."+this.utils.getClassname("search")+" input"),this.setDropPosition(),this.optionData.length>=this.options.searchItemLimit&&this.$search.addClass(this.utils.getClassname("hide"))},p.prototype.setDropPosition=function(){this.$drop.css({top:this.position.top,left:this.position.left,minWidth:this.$selection.outerWidth()})},p.prototype.setOriginalList=function(){this.$drop.find("."+this.utils.getClassname("list")).replaceWith(this.$list)},p.prototype.search=function(e){var s,i,o=this;s=t.map(this.optionData,function(t){return o._search(t,e)?t:void 0}),i=this.renderList(s),this.$drop.find("."+this.utils.getClassname("list")).replaceWith(i)},p.prototype._search=function(t,e){var s=t.text.replace("İ","i").toLowerCase(),i=t.value.replace("İ","i").toLowerCase(),o=e.replace("İ","i").toLowerCase();return s.indexOf(o)>-1||i.toLowerCase().indexOf(o)>-1},p.prototype.onFocus=function(){e.close(this._instance),o=this._instance,this.showDrop(),this.$selection.addClass(this.utils.getClassname("opened")),this.opened=!0},p.prototype.onBlur=function(){o=null,this.hideDrop(),this.$selection.removeClass(this.utils.getClassname("opened")),this.opened=!1,this.tabbed=!1,this.clicked=0},p.prototype.onChange=function(){},p.prototype.onReady=function(){this.utils.callback(this.options.onReady)},p.prototype.onSelect=function(){this.utils.callback(this.options.onSelect)},p.prototype.onUpdate=function(){this.utils.callback(this.options.onUpdate)},p.prototype.onDestroy=function(){this.utils.callback(this.options.onDestroy)},p.prototype.update=function(){this.emitEvent("update")},p.prototype.close=function(){this.onBlur()},p.prototype.destroy=function(){this.emitEvent("destroy"),this.unbindUI(),this.undecorateUI(),this.$el.removeData(i)},p.prototype.registry=function(){var t=this.$el.data(r.rocket)||{};t[r.data]={hasWrapper:!0,wrapper:r.wrap,ready:this.utils.getClassname("ready"),selector:this.selector,options:this.options},this.$el.data(r.rocket,t)},p.prototype.emitEvent=function(t){this.$el.trigger(l[t])},e=t.fn.select=t.fn.uxrselect=t.fn.uxitdselect=t.uxrselect=function(e){var s=this.selector;return this.each(function(){t.data(this,r.data)||t.data(this,r.data,new p(this,e,s))})},e.update=function(e,s){var i,o;"undefined"==typeof s&&"object"==typeof e?(i=t(".uxr-select-ready"),o=e):(i=t(e),o=s),i.filter("input").each(function(){var e=t(this),s=e.data(r.data),i=s.options;s.options=t.extend(!0,{},i,o),e.utils.callback(i.onUpdate)})},e.close=function(e){var s=t("undefined"==typeof el?".uxr-select-ready":el);s.each(function(){var s=t(this).data(r.data);s._instance!==e&&s.close()})},e.destroy=function(e){var s=t("undefined"==typeof e?".uxr-select-ready":e);s.each(function(){t(this).data(r.data).destroy()})},e.version="3.0.0",e.settings=a,e.namespace=r});