/*! UX Rocket  
 *  jQuery based Select box replacement function 
 *  @author Bilal Cinarli <bcinarli@gmail.com> (http://bcinarli.com/) 
 *  @version 3.0.0 
 *  @build Fri Sep 11 2015 09:09:28 GMT+0300 (EEST) 
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(t){"use strict";var e,s=1,i="uxrSelect",a={wrapper:"",current:"",arrow:"",list:"",option:"",selected:"",search:!0,onReady:!1,onSelect:!1,onUpdate:!1,onRemove:!1},n={prefix:"uxr-",rocket:"uxRocket",data:i,name:"select",wrap:"uxr-plugin-wrap",classes:{wrap:"wrap",ready:"ready",current:"current",currentText:"current-text",arrow:"arrow",list:"list",option:"option",option_name:"option-name",selected:"selected",search:"search"}},r=function(e,r,l){var o=t(e);this._instance=s,this._name=i,this._defaults=a,this.utils=new window.uxrPluginUtils({ns:n}),this.el=e,this.$el=o,this.id="uxr-select-options-"+s,this.multiple=this.el.hasAttribute("multiple"),this.selector=l,this.options=t.extend(!0,{},a,r,o.data()),s++,this.init()};t.extend(r.prototype,{init:function(){this.$el.addClass(this.utils.getClassname("ready")),""===this.el.id&&(this.el.id=n.data+"-"+this._instance),this.registry(),this.setLayout(),this.prepareContainer(),this.bindUIActions(),this.utils.callback(this.options.onReady)},registry:function(){var t=this.$el.data(n.rocket)||{};t[n.data]={hasWrapper:!0,wrapper:n.wrap,ready:this.utils.getClassname("ready"),selector:this.selector,options:this.options},this.$el.data(n.rocket,t)},handleClasses:function(){this.classList=this.$el.context.className.replace(this.utils.getClassname("ready"),""),"."===this.selector.charAt(0)&&(this.classList=this.classList.replace(this.selector.substr(1),"")),this.classList+=n.wrap+" "+this.utils.getClassname("wrap")+" "+this.utils.getClassname("wrap")+"-"+this._instance,this.classList=t.trim(this.classList)},removeClasses:function(){this.$el.removeClass(this.utils.getClassname("ready")),this.$el.parent().removeClass(this.classList.replace(n.wrap,""))},handleWrapper:function(){this.$el.parent().is("."+n.wrap)?this.$el.parent().addClass(this.classList):this.$el.wrap('<label class="'+this.classList+'"></label>')},addCurrent:function(){var t=this.$el.find(":selected").text(),e='<span class="'+this.utils.getClassname("current")+'">    <span class="'+this.utils.getClassname("currentText")+'">'+t+'</span>    <span class="'+this.utils.getClassname("arrow")+'"></span></span>';this.$el.after(e)},setLayout:function(){this.handleClasses(),this.handleWrapper(),this.addCurrent()},removeLayout:function(){var t=this,e=t.$el.data(n.rocket);Object.keys&&1===Object.keys(e).length?t.$el.unwrap():t.$el.parent().removeClass(n.wrap),t.$el.next("."+this.utils.getClassname("magnify")).remove()},removeContainer:function(){t("#"+this.id).remove()},bindUIActions:function(){var e=this;t("body").on("DOMNodeRemoved",function(t){t.target===e.el&&e.cleanUp()})},unbindUIActions:function(){this.$el.off("."+i)},showList:function(){var t=this.renderItems();this.$list.html(t),this.options.search===!0&&this.$list.prepend(this.searchField()),this.$list.show()},prepareContainer:function(){var e=t("<ul></ul>").attr("id",this.id).data("select",this.$el.attr("id")).addClass(this.utils.getClassname("list")).css("display","none").appendTo("body");this.utils.position(this.el,e),this.$list=e},renderItems:function(){var t,e=this,s=this.el.options;return delete s.length,delete s.selectedIndex,t=Object.keys(s).map(function(t){return e.renderItem(s[t])})},renderItem:function(e){var s=this,i='<li class="'+s.utils.getClassname("options")+'"><a>';return s.multiple&&(i+='<input type="checkbox" name="'+s.id+'" />'),i+='<span class="'+s.utils.getClassname("option_name")+'">'+e.innerHTML+"</span></a></li>",t(i).data("uxrSelectItem",e).attr("role","presentation")},searchField:function(){var t='<li class="'+this.utils.getClassname("search")+'">   <input type="text"           name="'+this.utils.getClassname("search")+'"          data-list="'+this.id+'" /></li>';return t},hideContainer:function(){t("#"+this.id).delay(100).hide()},update:function(t){return e.update(this.el,t)},destroy:function(){return e.destroy(this.el)},cleanUp:function(){t("."+this.utils.getClassname("wrap")+"-"+this._instance).remove(),this.removeContainer()}}),e=t.fn.select=t.fn.uxrselect=t.fn.uxitdselect=t.uxrselect=function(e){var s=this.selector;return this.each(function(){t.data(this,n.data)||t.data(this,n.data,new r(this,e,s))})},e.update=function(e,s){var i,a;"undefined"==typeof s&&"object"==typeof e?(i=t(".uxr-select-ready"),a=e):(i=t(e),a=s),i.filter("input").each(function(){var e=t(this),s=e.data(n.data),i=s.options;s.options=t.extend(!0,{},i,a),e.utils.callback(i.onUpdate)})},e.destroy=function(e){var s=t(void 0!==e?e:".uxr-select-ready");s.filter("select").each(function(){var e=t(this),s=e.data(n.data),i=e.data(n.rocket);s.removeClasses(),s.unbindUIActions(),s.removeContainer(),e.removeData(n.data),delete i[n.data],e.data(n.rocket,i),s.utils.callback(s.options.onRemove)})},e.version="3.0.0",e.settings=a,e.namespace=n});